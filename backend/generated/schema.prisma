// prisma/schema.prisma
datasource db {
  provider = "mysql"
  url      = env("DATABASE_URL")
}

generator client {
  provider = "prisma-client-js"
  output   = "../generated"
}

model Medicine {
  id              Int              @id @default(autoincrement())
  name            String
  price           Float
  stock           Int
  // 其他药品信息字段
  inventoryChecks InventoryCheck[]
  inboundRecords  InboundRecord[]
  outboundRecords OutboundRecord[]
}

model InventoryCheck {
  id           Int      @id @default(autoincrement())
  medicine     Medicine @relation(fields: [medicineId], references: [id])
  medicineId   Int
  checkedStock Int
  checkDate    DateTime @default(now())
}

model InboundRecord {
  id          Int      @id @default(autoincrement())
  medicine    Medicine @relation(fields: [medicineId], references: [id])
  medicineId  Int
  quantity    Int
  inboundDate DateTime @default(now())
}

model OutboundRecord {
  id           Int      @id @default(autoincrement())
  medicine     Medicine @relation(fields: [medicineId], references: [id])
  medicineId   Int
  quantity     Int
  outboundDate DateTime @default(now())
}
